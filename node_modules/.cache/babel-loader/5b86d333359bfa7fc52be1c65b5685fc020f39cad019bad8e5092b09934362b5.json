{"ast":null,"code":"function _fetch(url) {\n  return fetch(url).then(response => {\n    return response.json();\n  });\n}\nexport function fetchParkingLots() {\n  return _fetch(\"http://localhost:3000/parkingLots\");\n}\nexport function fetchParkingLotDetail(id) {\n  return _fetch(`http://localhost:3000/parkingLots/${id}/`);\n}\nexport function fetchParkingLotComment(id) {\n  return _fetch(`http://localhost:3000/parkingLots/${id}/comments`);\n}\nexport function fetchAllComments() {\n  return _fetch(\"http://localhost:3000/comments\");\n}\nexport function saveRating(id, origRating, currNumRating, rating) {\n  // console.log(currNumRating + 1);\n  // console.log(origRating);\n  return fetch(`http://localhost:3000/parkingLots/${id}/`, {\n    method: \"PATCH\",\n    body: JSON.stringify({\n      Rating: (origRating * currNumRating + rating) / (currNumRating + 1),\n      NumRating: currNumRating + 1\n    }),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  }).then(response => {\n    return response.json();\n  });\n}\nexport function saveComment(body, parkingLotId) {\n  return fetch(\"http://localhost:3000/comments/\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      body: body,\n      parkingLotId: parkingLotId\n    }),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  }).then(response => {\n    return response.json();\n  });\n}\nexport function deleteComment(commentId) {\n  return fetch(`http://localhost:3000/comments/${commentId}`, {\n    method: \"DELETE\"\n  });\n}","map":{"version":3,"names":["_fetch","url","fetch","then","response","json","fetchParkingLots","fetchParkingLotDetail","id","fetchParkingLotComment","fetchAllComments","saveRating","origRating","currNumRating","rating","method","body","JSON","stringify","Rating","NumRating","headers","saveComment","parkingLotId","deleteComment","commentId"],"sources":["/Users/peterxu/Documents/USC/学习/Senior Fall/ITP404/final-project/src/api.js"],"sourcesContent":["function _fetch(url) {\n  return fetch(url).then((response) => {\n    return response.json();\n  });\n}\n\nexport function fetchParkingLots() {\n  return _fetch(\"http://localhost:3000/parkingLots\");\n}\n\nexport function fetchParkingLotDetail(id) {\n  return _fetch(`http://localhost:3000/parkingLots/${id}/`);\n}\n\nexport function fetchParkingLotComment(id) {\n  return _fetch(`http://localhost:3000/parkingLots/${id}/comments`);\n}\n\nexport function fetchAllComments() {\n  return _fetch(\"http://localhost:3000/comments\");\n}\n\nexport function saveRating(id, origRating, currNumRating, rating) {\n  // console.log(currNumRating + 1);\n  // console.log(origRating);\n  return fetch(`http://localhost:3000/parkingLots/${id}/`, {\n    method: \"PATCH\",\n    body: JSON.stringify({\n      Rating: (origRating * currNumRating + rating) / (currNumRating + 1),\n      NumRating: currNumRating + 1,\n    }),\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n  }).then((response) => {\n    return response.json();\n  });\n}\n\nexport function saveComment(body, parkingLotId) {\n  return fetch(\"http://localhost:3000/comments/\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      body: body,\n      parkingLotId: parkingLotId,\n    }),\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n  }).then((response) => {\n    return response.json();\n  });\n}\n\nexport function deleteComment(commentId) {\n  return fetch(`http://localhost:3000/comments/${commentId}`, {\n    method: \"DELETE\",\n  });\n}\n"],"mappings":"AAAA,SAASA,MAAM,CAACC,GAAG,EAAE;EACnB,OAAOC,KAAK,CAACD,GAAG,CAAC,CAACE,IAAI,CAAEC,QAAQ,IAAK;IACnC,OAAOA,QAAQ,CAACC,IAAI,EAAE;EACxB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,gBAAgB,GAAG;EACjC,OAAON,MAAM,CAAC,mCAAmC,CAAC;AACpD;AAEA,OAAO,SAASO,qBAAqB,CAACC,EAAE,EAAE;EACxC,OAAOR,MAAM,CAAE,qCAAoCQ,EAAG,GAAE,CAAC;AAC3D;AAEA,OAAO,SAASC,sBAAsB,CAACD,EAAE,EAAE;EACzC,OAAOR,MAAM,CAAE,qCAAoCQ,EAAG,WAAU,CAAC;AACnE;AAEA,OAAO,SAASE,gBAAgB,GAAG;EACjC,OAAOV,MAAM,CAAC,gCAAgC,CAAC;AACjD;AAEA,OAAO,SAASW,UAAU,CAACH,EAAE,EAAEI,UAAU,EAAEC,aAAa,EAAEC,MAAM,EAAE;EAChE;EACA;EACA,OAAOZ,KAAK,CAAE,qCAAoCM,EAAG,GAAE,EAAE;IACvDO,MAAM,EAAE,OAAO;IACfC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBC,MAAM,EAAE,CAACP,UAAU,GAAGC,aAAa,GAAGC,MAAM,KAAKD,aAAa,GAAG,CAAC,CAAC;MACnEO,SAAS,EAAEP,aAAa,GAAG;IAC7B,CAAC,CAAC;IACFQ,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC,CAAClB,IAAI,CAAEC,QAAQ,IAAK;IACpB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EACxB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASiB,WAAW,CAACN,IAAI,EAAEO,YAAY,EAAE;EAC9C,OAAOrB,KAAK,CAAC,iCAAiC,EAAE;IAC9Ca,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBF,IAAI,EAAEA,IAAI;MACVO,YAAY,EAAEA;IAChB,CAAC,CAAC;IACFF,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC,CAAClB,IAAI,CAAEC,QAAQ,IAAK;IACpB,OAAOA,QAAQ,CAACC,IAAI,EAAE;EACxB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASmB,aAAa,CAACC,SAAS,EAAE;EACvC,OAAOvB,KAAK,CAAE,kCAAiCuB,SAAU,EAAC,EAAE;IAC1DV,MAAM,EAAE;EACV,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}