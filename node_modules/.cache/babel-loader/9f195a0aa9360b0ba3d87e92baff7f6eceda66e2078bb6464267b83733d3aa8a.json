{"ast":null,"code":"var _jsxFileName = \"/Users/peterxu/Documents/USC/\\u5B66\\u4E60/Senior Fall/ITP404/final-project/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\n// import App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { createBrowserRouter, redirect, RouterProvider } from \"react-router-dom\";\nimport Root from \"./routes/Root\";\nimport Index from \"./routes/Index\";\nimport { fetchParkingLots, fetchParklingLotDetail, saveRating } from \"./api\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Detail from \"./routes/Detail\";\nimport LeaveRating from \"./routes/LeaveRating\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst router = createBrowserRouter([{\n  path: \"/\",\n  element: /*#__PURE__*/_jsxDEV(Root, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 14\n  }, this),\n  children: [{\n    path: \"/\",\n    element: /*#__PURE__*/_jsxDEV(Index, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 18\n    }, this),\n    loader() {\n      return fetchParkingLots();\n    }\n  }, {\n    path: \"/parkingLots/:id\",\n    loader(_ref) {\n      let {\n        params\n      } = _ref;\n      return fetchParklingLotDetail(params.id);\n    },\n    element: /*#__PURE__*/_jsxDEV(Detail, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 18\n    }, this),\n    children: [{\n      path: \"/parkingLots/:id\",\n      element: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Temp Comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 22\n      }, this)\n    }, {\n      path: \"/parkingLots/:id/ratings/new\",\n      element: /*#__PURE__*/_jsxDEV(LeaveRating, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 22\n      }, this),\n      loader(_ref2) {\n        let {\n          params\n        } = _ref2;\n        return fetchParklingLotDetail(params.id);\n      },\n      action(_ref3) {\n        let {\n          request,\n          params\n        } = _ref3;\n        return request.formData().then(formData => {\n          console.log(parseInt(formData.get(\"rating\")));\n          return saveRating(params.id, parseInt(formData.get(\"origrating\")), parseInt(formData.get(\"numrating\")), parseInt(formData.get(\"rating\"))).then(() => {\n            toast.success(\"You have successfully submitted the rating.\");\n            return redirect(`/parkingLots/${params.id}`);\n          });\n        });\n      }\n    }]\n  }]\n}]);\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render( /*#__PURE__*/_jsxDEV(RouterProvider, {\n  router: router\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 70,\n  columnNumber: 13\n}, this));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","map":{"version":3,"names":["React","ReactDOM","reportWebVitals","createBrowserRouter","redirect","RouterProvider","Root","Index","fetchParkingLots","fetchParklingLotDetail","saveRating","Detail","LeaveRating","toast","router","path","element","children","loader","params","id","action","request","formData","then","console","log","parseInt","get","success","root","createRoot","document","getElementById","render"],"sources":["/Users/peterxu/Documents/USC/学习/Senior Fall/ITP404/final-project/src/index.js"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\n// import App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport {\n  createBrowserRouter,\n  redirect,\n  RouterProvider,\n} from \"react-router-dom\";\nimport Root from \"./routes/Root\";\nimport Index from \"./routes/Index\";\nimport { fetchParkingLots, fetchParklingLotDetail, saveRating } from \"./api\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Detail from \"./routes/Detail\";\nimport LeaveRating from \"./routes/LeaveRating\";\nimport { toast } from \"react-toastify\";\n\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Root />,\n    children: [\n      {\n        path: \"/\",\n        element: <Index />,\n        loader() {\n          return fetchParkingLots();\n        },\n      },\n      {\n        path: \"/parkingLots/:id\",\n        loader({ params }) {\n          return fetchParklingLotDetail(params.id);\n        },\n        element: <Detail />,\n        children: [\n          {\n            path: \"/parkingLots/:id\",\n            element: <p>Temp Comment</p>,\n          },\n          {\n            path: \"/parkingLots/:id/ratings/new\",\n            element: <LeaveRating />,\n            loader({ params }) {\n              return fetchParklingLotDetail(params.id);\n            },\n            action({ request, params }) {\n              return request.formData().then((formData) => {\n                console.log(parseInt(formData.get(\"rating\")));\n                return saveRating(\n                  params.id,\n                  parseInt(formData.get(\"origrating\")),\n                  parseInt(formData.get(\"numrating\")),\n                  parseInt(formData.get(\"rating\"))\n                ).then(() => {\n                  toast.success(\"You have successfully submitted the rating.\");\n                  return redirect(`/parkingLots/${params.id}`);\n                });\n              });\n            },\n          },\n        ],\n      },\n    ],\n  },\n]);\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<RouterProvider router={router} />);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAO,aAAa;AACpB;AACA,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,SACEC,mBAAmB,EACnBC,QAAQ,EACRC,cAAc,QACT,kBAAkB;AACzB,OAAOC,IAAI,MAAM,eAAe;AAChC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,SAASC,gBAAgB,EAAEC,sBAAsB,EAAEC,UAAU,QAAQ,OAAO;AAC5E,OAAO,kCAAkC;AACzC,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AAAC;AAEvC,MAAMC,MAAM,GAAGX,mBAAmB,CAAC,CACjC;EACEY,IAAI,EAAE,GAAG;EACTC,OAAO,eAAE,QAAC,IAAI;IAAA;IAAA;IAAA;EAAA,QAAG;EACjBC,QAAQ,EAAE,CACR;IACEF,IAAI,EAAE,GAAG;IACTC,OAAO,eAAE,QAAC,KAAK;MAAA;MAAA;MAAA;IAAA,QAAG;IAClBE,MAAM,GAAG;MACP,OAAOV,gBAAgB,EAAE;IAC3B;EACF,CAAC,EACD;IACEO,IAAI,EAAE,kBAAkB;IACxBG,MAAM,OAAa;MAAA,IAAZ;QAAEC;MAAO,CAAC;MACf,OAAOV,sBAAsB,CAACU,MAAM,CAACC,EAAE,CAAC;IAC1C,CAAC;IACDJ,OAAO,eAAE,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG;IACnBC,QAAQ,EAAE,CACR;MACEF,IAAI,EAAE,kBAAkB;MACxBC,OAAO,eAAE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IACX,CAAC,EACD;MACED,IAAI,EAAE,8BAA8B;MACpCC,OAAO,eAAE,QAAC,WAAW;QAAA;QAAA;QAAA;MAAA,QAAG;MACxBE,MAAM,QAAa;QAAA,IAAZ;UAAEC;QAAO,CAAC;QACf,OAAOV,sBAAsB,CAACU,MAAM,CAACC,EAAE,CAAC;MAC1C,CAAC;MACDC,MAAM,QAAsB;QAAA,IAArB;UAAEC,OAAO;UAAEH;QAAO,CAAC;QACxB,OAAOG,OAAO,CAACC,QAAQ,EAAE,CAACC,IAAI,CAAED,QAAQ,IAAK;UAC3CE,OAAO,CAACC,GAAG,CAACC,QAAQ,CAACJ,QAAQ,CAACK,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;UAC7C,OAAOlB,UAAU,CACfS,MAAM,CAACC,EAAE,EACTO,QAAQ,CAACJ,QAAQ,CAACK,GAAG,CAAC,YAAY,CAAC,CAAC,EACpCD,QAAQ,CAACJ,QAAQ,CAACK,GAAG,CAAC,WAAW,CAAC,CAAC,EACnCD,QAAQ,CAACJ,QAAQ,CAACK,GAAG,CAAC,QAAQ,CAAC,CAAC,CACjC,CAACJ,IAAI,CAAC,MAAM;YACXX,KAAK,CAACgB,OAAO,CAAC,6CAA6C,CAAC;YAC5D,OAAOzB,QAAQ,CAAE,gBAAee,MAAM,CAACC,EAAG,EAAC,CAAC;UAC9C,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;IACF,CAAC;EAEL,CAAC;AAEL,CAAC,CACF,CAAC;AAEF,MAAMU,IAAI,GAAG7B,QAAQ,CAAC8B,UAAU,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC;AACjEH,IAAI,CAACI,MAAM,eAAC,QAAC,cAAc;EAAC,MAAM,EAAEpB;AAAO;EAAA;EAAA;EAAA;AAAA,QAAG,CAAC;;AAE/C;AACA;AACA;AACAZ,eAAe,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}